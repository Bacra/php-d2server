<Directory "W:">
    Options Indexes FollowSymLinks Includes
    AllowOverride All
    Order allow,deny
    Allow from All
</Directory>

<Directory "D:/Projects2/webproject">
    Options Indexes FollowSymLinks Includes
    AllowOverride All
    Order allow,deny
    Allow from All
</Directory>



LoadModule rewrite_module modules/mod_rewrite.so
LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_http_module modules/mod_proxy_http.so


<Proxy *>
Order deny,allow
Allow from all
</Proxy>

Listen 80
Listen 3316
NameVirtualHost *

<VirtualHost *:80>
    DocumentRoot "W:"
    ServerName www.test.com
    RewriteEngine On
    RewriteRule ^/(.*[^\.])/api$ api.php [L]
    RewriteRule ^/(.*[^\.]+\.html)(--(\w*))?$  http://www.test.com:3316//convert.php?file=$1&part=$3 [P,L]
    RewriteRule ^/(.*[^\.])/config$  http://www.test.com:3316//api.php?type=config&dir=$1 [P,L]
    RewriteRule ^.*\.m(\d+)\.(\w+)$  http://www.test.com:3316//source.php?pathid=$1&extension=$2 [P,L]
</VirtualHost>

<VirtualHost *:3316>
    DocumentRoot "D:/Projects2/webproject"
    ServerName www.test.com
</VirtualHost>